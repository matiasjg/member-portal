{% extends 'layout.html' %}

{% block content %}
    <div class="row">
        <div class="col-lg-12">

            <div class="card border-success mb-3">
              <div class="card-header">{{ member.plan.name }}</div>
              <div class="card-body">
                <h4 class="card-title">{{ member.last_name }}, {{ member.first_name }}</h4>
                <p class="card-text">
                    <strong>Email:</strong> {{ member.email }} <br />
                    <strong>Joined:</strong> {{ member.joined_on }}
                </p>
              </div>
            </div>

        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <h3>Payments</h3>

            {% if member.payment_set.all %}

                <table class="table table-hover">
                  <thead>
                    <tr>
                      <th scope="col">Amount</th>
                      <th scope="col">Date</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for payment in member.payment_set.all %}
                    <tr>
                      <td>{{ payment.amount }}</td>
                      <td>{{ payment.created_at }}</td>
                    </tr>
                    {% endfor %}
                  </tbody>
                </table>

            {% else %}
                <div class="alert alert-dismissible alert-warning">
                   Payments not found.
                </div>
            {% endif %}
        </div>
    </div>

{% endblock %}
